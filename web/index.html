<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japanese SRS - Êó•Êú¨Ë™ûÂãâÂº∑</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="app-title">Êó•Êú¨Ë™û SRS</h1>
                <nav class="nav">
                    <button class="nav-btn active" data-view="dashboard">Dashboard</button>
                    <button class="nav-btn" data-view="review">Review</button>
                    <button class="nav-btn" data-view="practice">Practice</button>
                    <button class="nav-btn" data-view="browse">Browse</button>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Dashboard View -->
            <div class="view active" id="dashboard-view">
                <div class="dashboard">
                    <div class="stats-grid">
                        <div class="stat-card reviews-card">
                            <div class="stat-number" id="review-count">0</div>
                            <div class="stat-label">Reviews Available</div>
                            <button class="start-review-btn" id="start-review">Start Reviewing</button>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-number" id="total-words">0</div>
                            <div class="stat-label">Total Words</div>
                        </div>
                    </div>

                    <div class="progress-section">
                        <h2>Learning Progress</h2>
                        <div class="progress-grid">
                            <div class="progress-item apprentice">
                                <div class="progress-header">
                                    <span class="progress-title">üå± Apprentice</span>
                                    <span class="progress-count" id="apprentice-count">0</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="apprentice-progress"></div>
                                </div>
                            </div>
                            
                            <div class="progress-item guru">
                                <div class="progress-header">
                                    <span class="progress-title">üéì Guru</span>
                                    <span class="progress-count" id="guru-count">0</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="guru-progress"></div>
                                </div>
                            </div>
                            
                            <div class="progress-item master">
                                <div class="progress-header">
                                    <span class="progress-title">üëë Master</span>
                                    <span class="progress-count" id="master-count">0</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="master-progress"></div>
                                </div>
                            </div>
                            
                            <div class="progress-item enlightened">
                                <div class="progress-header">
                                    <span class="progress-title">‚ú® Enlightened</span>
                                    <span class="progress-count" id="enlightened-count">0</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="enlightened-progress"></div>
                                </div>
                            </div>
                            
                            <div class="progress-item burned">
                                <div class="progress-header">
                                    <span class="progress-title">üî• Burned</span>
                                    <span class="progress-count" id="burned-count">0</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="burned-progress"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="cloud-storage-section">
                        <h2>Data Storage</h2>
                        <div class="storage-options">
                            <div class="storage-option local-storage">
                                <div class="storage-icon">üíæ</div>
                                <div class="storage-info">
                                    <h3>Local Browser Storage</h3>
                                    <p>Data saved in your browser (current mode)</p>
                                    <div class="storage-actions">
                                        <button class="btn-secondary" id="export-data">Export Data</button>
                                        <button class="btn-secondary" id="import-data">Import Data</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="storage-option cloud-storage">
                                <div class="storage-icon">‚òÅÔ∏è</div>
                                <div class="storage-info">
                                    <h3>Cloud Storage</h3>
                                    <p id="cloud-status">Not configured - sync across devices</p>
                                    <div class="storage-actions">
                                        <button class="btn-primary" id="setup-cloud">Setup Cloud Sync</button>
                                        <button class="btn-danger" id="disconnect-cloud" style="display: none;">Disconnect</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="web-notice">
                        <p>üì± <strong>Web Version:</strong> Choose between local browser storage or cloud sync</p>
                    </div>
                </div>
            </div>

            <!-- Review View -->
            <div class="view" id="review-view">
                <div class="review-container">
                    <div class="review-header">
                        <button class="back-btn" id="back-to-dashboard">‚Üê Back to Dashboard</button>
                        <span class="review-progress" id="review-progress">0 / 0</span>
                    </div>
                    
                    <div class="review-card" id="review-card">
                        <div class="word-display">
                            <div class="stage-indicator" id="current-stage">üå± Apprentice 1</div>
                            <div class="kanji" id="current-kanji">Êó•Êú¨Ë™û</div>
                            <div class="furigana" id="current-furigana" style="display: none;">„Å´„Åª„Çì„Åî</div>
                            <div class="translation" id="current-translation" style="display: none;">Japanese language</div>
                        </div>
                        
                        <div class="answer-input-container" id="answer-input-container">
                            <input type="text" class="answer-input" id="answer-input" placeholder="Enter your answer..." autocomplete="off">
                            <div class="input-hint">Press Enter to submit</div>
                        </div>
                        
                        <div class="review-actions" id="review-actions" style="display: none;">
                            <button class="review-btn incorrect" id="incorrect-btn">Incorrect</button>
                            <button class="review-btn correct" id="correct-btn">Correct</button>
                        </div>
                        
                        <div class="show-answer" id="show-answer" style="display: none;">
                            <button class="show-answer-btn">Show Answer</button>
                        </div>
                        
                        <div class="validation-result" id="validation-result" style="display: none;">
                            <div class="validation-message" id="validation-message"></div>
                            <div class="correct-answers" id="correct-answers"></div>
                        </div>
                    </div>
                    
                    <div class="no-reviews" id="no-reviews" style="display: none;">
                        <h2>üéâ All caught up!</h2>
                        <p>No reviews available right now. Come back later!</p>
                    </div>
                </div>
            </div>

            <!-- Debug View -->
            <div class="view" id="debug-view">
                <div class="debug-container">
                    <div class="debug-header">
                        <button class="back-btn" id="debug-back-to-dashboard">‚Üê Back to Dashboard</button>
                        <div class="debug-info">
                            <span class="debug-badge">DEBUG MODE</span>
                            <span class="debug-progress" id="debug-progress">0 / 0</span>
                        </div>
                    </div>
                    
                    <div class="debug-controls">
                        <label for="debug-count">Number of words:</label>
                        <select id="debug-count">
                            <option value="5">5 words</option>
                            <option value="10" selected>10 words</option>
                            <option value="20">20 words</option>
                            <option value="50">50 words</option>
                        </select>
                        <button class="start-debug-btn" id="start-debug">Start Debug Session</button>
                    </div>
                    
                    <div class="debug-notice">
                        <p>üõ†Ô∏è Debug mode lets you practice without affecting your SRS progress</p>
                    </div>
                    
                    <div class="review-card" id="debug-card" style="display: none;">
                        <div class="word-display">
                            <div class="stage-indicator" id="debug-stage">üå± Apprentice 1</div>
                            <div class="kanji" id="debug-kanji">Êó•Êú¨Ë™û</div>
                            <div class="furigana" id="debug-furigana" style="display: none;">„Å´„Åª„Çì„Åî</div>
                            <div class="translation" id="debug-translation" style="display: none;">Japanese language</div>
                        </div>
                        
                        <div class="answer-input-container" id="debug-answer-input-container">
                            <input type="text" class="answer-input" id="debug-answer-input" placeholder="Enter your answer..." autocomplete="off">
                            <div class="input-hint">Press Enter to submit</div>
                        </div>
                        
                        <div class="review-actions" id="debug-actions" style="display: none;">
                            <button class="review-btn incorrect" id="debug-incorrect-btn">Incorrect</button>
                            <button class="review-btn correct" id="debug-correct-btn">Correct</button>
                        </div>
                        
                        <div class="show-answer" id="debug-show-answer" style="display: none;">
                            <button class="show-answer-btn">Show Answer</button>
                        </div>
                        
                        <div class="validation-result" id="debug-validation-result" style="display: none;">
                            <div class="validation-message" id="debug-validation-message"></div>
                            <div class="correct-answers" id="debug-correct-answers"></div>
                        </div>
                    </div>
                    
                    <div class="debug-complete" id="debug-complete" style="display: none;">
                        <h2>üéØ Debug Session Complete!</h2>
                        <p>No SRS progress was affected. Ready for another session?</p>
                    </div>
                </div>
            </div>

            <!-- Browse View -->
            <div class="view" id="browse-view">
                <div class="browse-container">
                    <div class="browse-header">
                        <h2>Word Dictionary</h2>
                        <div class="search-container">
                            <input type="text" class="search-input" id="search-input" placeholder="Search words...">
                        </div>
                    </div>
                    
                    <div class="word-grid" id="word-grid">
                        <!-- Words will be populated here -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Cloud Setup Modal -->
    <div class="modal" id="cloud-setup-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Setup Cloud Storage</h2>
                <button class="modal-close" id="close-cloud-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Sync your progress across devices using GitHub Gists (free & private).</p>
                
                <div class="setup-step">
                    <h3>Step 1: Create GitHub Token</h3>
                    <p>Create a <a href="https://github.com/settings/tokens/new?scopes=gist&description=Japanese%20SRS%20Progress" target="_blank">GitHub Personal Access Token</a> with <strong>gist</strong> permissions.</p>
                </div>
                
                <div class="setup-step">
                    <label for="github-token">GitHub Token:</label>
                    <input type="password" id="github-token" placeholder="ghp_...">
                </div>
                
                <div class="setup-step">
                    <h3>Step 2: Choose Storage</h3>
                    <div class="setup-options">
                        <label>
                            <input type="radio" name="storage-type" value="new" checked>
                            Create new storage (recommended)
                        </label>
                        <label>
                            <input type="radio" name="storage-type" value="existing">
                            Use existing Gist ID:
                            <input type="text" id="existing-gist" placeholder="gist-id-here" disabled>
                        </label>
                    </div>
                </div>
                
                <div class="setup-actions">
                    <button class="btn-primary" id="setup-cloud-storage">Setup Cloud Storage</button>
                    <button class="btn-secondary" id="cancel-cloud-setup">Cancel</button>
                </div>
                
                <div class="setup-status" id="setup-status"></div>
            </div>
        </div>
    </div>

    <!-- Import/Export Modal -->
    <div class="modal" id="import-export-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="ie-modal-title">Import/Export Data</h2>
                <button class="modal-close" id="close-ie-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="export-section">
                    <h3>Export Your Progress</h3>
                    <p>Copy this data to backup or transfer to another device:</p>
                    <textarea id="export-data-text" readonly></textarea>
                    <button class="btn-secondary" id="copy-export-data">Copy to Clipboard</button>
                </div>
                
                <div id="import-section" style="display: none;">
                    <h3>Import Progress Data</h3>
                    <p>Paste your exported data below:</p>
                    <textarea id="import-data-text" placeholder="Paste your exported data here..."></textarea>
                    <div class="import-options">
                        <label>
                            <input type="radio" name="import-mode" value="merge" checked>
                            Merge with existing data
                        </label>
                        <label>
                            <input type="radio" name="import-mode" value="replace">
                            Replace all existing data
                        </label>
                    </div>
                    <button class="btn-primary" id="import-data-confirm">Import Data</button>
                </div>
            </div>
        </div>
    </div>

    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>
